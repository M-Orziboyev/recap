(()=>{"use strict";window.addEventListener("DOMContentLoaded",(()=>{function t(t){return t>=0&&t<10?`0${t}`:t}(function(){const t=document.querySelectorAll(".tabheader__item"),e=document.querySelectorAll(".tab_content"),n=document.querySelector(".tabheader__items");function o(){e.forEach((t=>{t.classList.add("hide"),t.classList.remove("show")})),t.forEach((t=>{t.classList.remove("tabheader__item_active")}))}function s(n=0){e[n].classList.add("show","fade"),e[n].classList.remove("hide"),t[n].classList.add("tabheader__item_active")}o(),s(),n.addEventListener("click",(e=>{const n=e.target;n&&n.classList.contains("tabheader__item")&&t.forEach(((t,e)=>{n===t&&(o(),s(e))}))}))})(),function(t){const e=document.querySelector(t);setTimeout((()=>{e.style.display="none"}),1500)}(".loader-wrapper"),function(){const e=document.querySelector(".timer"),n=e.querySelector("#days"),o=e.querySelector("#hours"),s=e.querySelector("#minutes"),c=e.querySelector("#seconds"),r=setInterval(a,1e3);function a(){const e=function(t){let e,n,o,s;const c=Date.parse(t)-Date.parse(new Date);return c<=0?(e=0,n=0,o=0,s=0):(e=Math.floor(c/864e5),n=Math.floor(c/36e5%24),o=Math.floor(c/6e4%60),s=Math.floor(c/1e3%60)),{totalTime:c,days:e,hours:n,minutes:o,seconds:s}}("2024-02-01");n.textContent=t(e.days),o.textContent=t(e.hours),s.textContent=t(e.minutes),c.textContent=t(e.seconds),e.totalTime<=0&&clearInterval(r)}a()}();const e=document.querySelectorAll("[data-modal]"),n=document.querySelector(".modal"),o=document.querySelector(".modal__content");function s(){o.classList.add("modal_fade"),n.classList.add("show"),n.classList.remove("hide"),document.body.style.overflow="hidden",clearInterval(r)}function c(){n.classList.add("hide"),n.classList.remove("show"),document.body.style.overflow=""}e.forEach((t=>{t.addEventListener("click",s)})),n.addEventListener("click",(t=>{t.target!==n&&""!==t.target.getAttribute("data-modal-close")||c()})),document.addEventListener("keydown",(t=>{"Escape"===t.code&&n.classList.contains("show")&&c()}));const r=setTimeout(s,5e4);class a{constructor(t,e,n,o,s,c,r){this.src=t,this.alt=e,this.title=n,this.descr=o,this.discount=s,this.sale=c,this.parent=document.querySelector(r),this.formatToUSD()}formatToUSD(){this.discount=this.discount.toLocaleString("en-US",{style:"currency",currency:"USD"}),this.sale=this.sale.toLocaleString("en-US",{style:"currency",currency:"USD"})}render(){const t=document.createElement("div");t.innerHTML=`\n\t\t\t\t<img src="${this.src}" alt="${this.alt}">\n\t\t\t\t<div>\n\t\t\t\t\t<h3>${this.title}</h3>\n\t\t\t\t\t<p>${this.descr}</p>\n\t\t\t\t\t<p><del>${this.discount}</del> <span class="primary-text">${this.sale}</span></p>\n\t\t\t\t</div>\n\t\t\t`,this.parent.append(t)}}fetch("http://localhost:3000/offers",{method:"GET",headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{t.forEach((t=>{const{src:e,alt:n,descr:o,discount:s,sale:c,title:r}=t;new a(e,n,r,o,s,c,".offers-items").render()}))}));const l=document.querySelector("form");function d(t){const e=document.querySelector(".modal__dialog");e.classList.add("hide"),s();const n=document.createElement("div");n.classList.add("modal__dialog"),n.innerHTML=`\n\t\t\t<div class="modal__content">\n\t\t\t\t<div data-modal-close class="modal__close">&times;</div>\n\t\t\t\t<div class="modal__title">${t}</div>\n\t\t\t</div>\n\t\t`,document.querySelector(".modal").append(n),setTimeout((()=>{n.remove(),e.classList.remove("hide"),c()}),4e3)}l.addEventListener("submit",(t=>{t.preventDefault();const e=document.createElement("div");e.classList.add("loader"),e.style.width="20px",e.style.height="20px",e.style.marginTop="20px",l.append(e);const n=new FormData(l),o={};n.forEach(((t,e)=>{o[e]=t})),fetch("https://api.telegram.org/bot6582188202:AAHHGOGsOMqUs3ELHhK35it1ykoWYwIo4co/sendMessage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({chat_id:"5796596917",text:`Name: ${o.name}. Phone: ${o.phone}`})}).then((()=>{d("Thanks for contacting with us"),l.reset()})).catch((()=>d("Something went wrong"))).finally((()=>e.remove()))}));const i=document.querySelectorAll(".offer__slide"),h=document.querySelector(".offer__slider-prev"),u=document.querySelector(".offer__slider-next"),m=document.querySelector("#total"),y=document.querySelector("#current"),f=document.querySelector(".offer__slider-wrapper"),p=document.querySelector(".offer__slider-inner"),v=window.getComputedStyle(f).width;let _=1,S=0;i.length<10?(m.textContent=`0${i.length}`,y.textContent=`0${_}`):(m.textContent=i.length,y.textContent=_),p.style.width=100*i.length+"%",p.style.display="flex",p.style.transition="all .5s ease",f.style.overflow="hidden",i.forEach((t=>{t.style.width=v})),u.addEventListener("click",(()=>{S===+v.slice(0,v.length-2)*(i.length-1)?S=0:S+=+v.slice(0,v.length-2),p.style.transform=`translateX(-${S}px)`,_===i.length?_=1:_++,i.length<10?y.textContent=`0${_}`:y.textContent=_})),h.addEventListener("click",(()=>{0===S?S=+v.slice(0,v.length-2)*(i.length-1):S-=+v.slice(0,v.length-2),p.style.transform=`translateX(-${S}px)`,1===_?_=i.length:_--,i.length<10?y.textContent=`0${_}`:y.textContent=_}))}))})();
//# sourceMappingURL=bundle.js.map